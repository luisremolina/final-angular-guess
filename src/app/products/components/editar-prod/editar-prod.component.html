<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Nombre</th>
      <th scope="col">Precio</th>
      <th scope="col">Descripcion</th>
      <th scope="col">Cantidad</th>
      <th scope="col">Opciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let product of products, let index = index">
      <th scope="row"> {{ index }} </th>
      <td> {{ product.nombre }} </td>
      <td> {{ product.precio }} </td>
      <td> {{ product.descripcion }} </td>
      <td> {{ product.cantidad }} </td>
      <td> <button class="btn btn-primary" (click)="llenarForm(product)">Update</button> </td>
      <td> <button class="btn btn-danger" (click)="eliminarProducto(product.id)">Delete</button> </td>
    </tr>
  </tbody>
</table>

<form [formGroup]="updatedProduct" (ngSubmit)="actualizarProducto()" >
  <span *ngIf="submitted && updatedProduct.invalid" class="badge bg-danger">Todos los campos son obligatorios</span>
  <div class="mb-3">
    <label for="nombre_producto" class="form-label">Nombre del producto</label>
    <input
      type="text"
      class="form-control"
      id="nombre_producto"
      formControlName="nombre"
    />
  </div>
  <div class="mb-3">
    <label for="precio_producto" class="form-label">Precio</label>
    <input
      type="number"
      class="form-control"
      id="precio_producto"
      formControlName="precio"
    />
  </div>
  <div class="mb-3">
    <label for="descipcion_producto" class="form-label">Descripcion</label>
    <input
      type="text"
      class="form-control"
      id="descipcion_producto"
      formControlName="descripcion"
    />
  </div>
  <div class="mb-3">
    <label for="cantidad_producto" class="form-label">cantidad (STOCK)</label>
    <input
      type="text"
      class="form-control"
      id="cantidad_producto"
      formControlName="cantidad"
    />
  </div>

  <button type="submit" class="btn btn-primary">Actualizar producto</button>
</form>
